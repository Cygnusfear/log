var Dash={log:[],display:function(){var c=document.getElementById("logbook");var a=Dash.log,b=30;b=void 0===b?1:b;var d=null==a?0:a.length;if(d){b=d-b;b=0>b?0:b;var f=d;if(d=null==a?0:a.length){b=null==b?0:b;f=void 0===f?d:f;0>b&&(b=-b>d?0:d+b);f=f>d?d:f;0>f&&(f+=d);d=b>f?0:f-b>>>0;b>>>=0;f=-1;for(var g=Array(d);++f<d;)g[f]=a[f+b]}}c.className="bn bg-noir blanc f6 mon";a=0;for(b=Dash.log.length;a<b;a++){d=Dash.log[a];var e=c.insertRow(a+1);f=e.insertCell(0);g=e.insertCell(1);var h=e.insertCell(2),
k=e.insertCell(3),l=e.insertCell(4),m=e.insertCell(5);e=e.insertCell(6);var p=Dash.time.parse(d.s),r=Dash.time.parse(d.e),n=Dash.time.convert(p);f.innerHTML=Aequirys.shorter(Aequirys.convert(new Date(n.getFullYear(),n.getMonth(),n.getDate())));g.innerHTML=Dash.time.stamp(p);h.innerHTML=Dash.time.stamp(r);k.innerHTML=Dash.time.duration(p,r).toFixed(2);f.className="ar";g.className="ar";h.className="ar";k.className="ar";l.innerHTML=d.c;m.innerHTML=d.t;e.innerHTML=d.d}},visualise:function(){for(var c=
document.getElementById("vis"),a=0,b=0,d=0,f=Dash.log.length;d<f;d++){var g=Dash.log[d],e=Dash.time.parse(g.s),h=Dash.time.parse(g.e);date=Dash.time.date(e);if(null===document.getElementById(date)){b=a=0;g=document.createElement("p");var k=document.createElement("div"),l=Dash.time.convert(e);g.className="f6 mon pb1 bb mb1";k.className="line";g.innerHTML=Aequirys.shorter(Aequirys.convert(new Date(l.getFullYear(),l.getMonth(),l.getDate())));k.id=date;c.appendChild(g);c.appendChild(k)}g=(h-e)/86400*
100;var m=Dash.time.convert(e);e=m.getFullYear();k=m.getMonth();l=m.getDate();var p=m.getHours(),r=m.getMinutes();m=m.getSeconds();var n=(new Date(e,k,l)).getTime()/1E3,t=(new Date(e,k,l,23,59,59)).getTime()/1E3,q=Dash.time.convert(h);h=q.getHours();var u=q.getMinutes();q=q.getSeconds();(new Date(e,k,l,h,u,q)).getTime();h=((new Date(e,k,l,p,r,m)).getTime()/1E3-n)/(t-n)*100;e=document.createElement("div");e.className="psr t0 bg-noir hf dib";e.style.width=g+"%";e.style.margin="0 0 0 "+(h-(a+b))+"%";
document.getElementById(date).appendChild(e);a=g;b=h}},time:{parse:function(c){return parseInt(c,16)},convert:function(c){return new Date(1E3*c)},stamp:function(c){var a=Dash.time.convert(c);c="0"+a.getHours();var b="0"+a.getMinutes();a="0"+a.getSeconds();return c.substr(-2)+":"+b.substr(-2)+":"+a.substr(-2)},date:function(c){var a=Dash.time.convert(c);c=a.getFullYear();var b=a.getMonth();a=a.getDate();return c+""+b+""+a},duration:function(c,a){return(a-c)/3600}},data:{loggedHours:function(){for(var c=
0,a=0,b=Dash.log.length;a<b;a++){var d=Dash.log[a];c+=Number(Dash.time.duration(Dash.time.parse(d.s),Dash.time.parse(d.e)))}return c},logPercentage:function(){var c=Number(Dash.data.loggedHours()),a=Dash.time.convert(Dash.time.parse(Dash.log[0].s)),b=new Date;a=Math.ceil((new Date(b.getFullYear(),b.getMonth(),b.getDate())-new Date(a.getFullYear(),a.getMonth(),a.getDate()))/864E5);return c/(24*(a+1))*100},loggedToday:function(){for(var c=0,a=Dash.log.length-1;0<=a;a--){var b=Dash.log[a],d=Dash.time.parse(b.s),
f=Dash.time.convert(d),g=f.getFullYear(),e=f.getMonth();f=f.getDate();var h=new Date,k=h.getFullYear(),l=h.getMonth();h=h.getDate();g==k&&e==l&&h==f&&(c+=Number(Dash.time.duration(d,Dash.time.parse(b.e))))}return c},logPercentageToday:function(){for(var c=[],a=Dash.log.length-1;0<=a;a--){var b=Dash.log[a],d=Dash.time.convert(Dash.time.parse(b.s)),f=d.getFullYear(),g=d.getMonth();d=d.getDate();var e=new Date,h=e.getFullYear(),k=e.getMonth();e=e.getDate();f==h&&g==k&&d==e&&c.push(b)}a=Number(Dash.data.loggedToday());
c=Dash.time.convert(Dash.time.parse(c[0].s));c.getFullYear();c.getMonth();c.getDate();d=new Date;d.getFullYear();d.getMonth();d.getDate();return a/24*100}},openSect:function(c){for(var a=document.getElementsByClassName("sect"),b=0,d=a.length;b<d;b++)a[b].style.display="none";document.getElementById(c).style.display="block"},init:function(){Dash.log=log;Dash.display();Dash.visualise();var c=Dash.data.loggedHours().toFixed(2)+" h";document.getElementById("loggedHours").innerHTML=c;c=Dash.data.loggedToday().toFixed(2)+
" h";document.getElementById("loggedToday").innerHTML=c;c=Dash.data.logPercentage().toFixed(2)+"%";document.getElementById("logPerc").innerHTML=c;c=Dash.data.logPercentageToday().toFixed(2)+"%";document.getElementById("logPercToday").innerHTML=c}};
