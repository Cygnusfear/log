<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>Log</title>
  <meta name="author" content="Josh Avanier">
  <meta name="description" content="A log and time-tracking system">
  <link rel="stylesheet" href="css/macian.min.css">
  <script src="utils/aequirys.min.js"></script>
  <script src="utils/monocal.min.js"></script>
</head>
<body id="app" class="noselect r p4 p5-m p5-l hf cn">

  <header class="mb4 f6">
    <h1 class="dib mr4 f5 upc tk">Log</h1>

    <button id="b-ovw" class="pv1 tab on bg-cl of mr3" onclick="Log.tab('ovw')" title="Overview">&#128902;</button>
    <button id="b-lis" class="pv1 tab on bg-cl o5 mr3" onclick="Log.tab('lis')" title="Details">&#9783;</button>
    <button id="b-vis" class="pv1 tab on bg-cl o5 mr3" onclick="Log.tab('vis')" title="Visualisation">&#9781;</button>
    <button id="b-tab" class="pv1 tab on bg-cl o5 mr3" onclick="Log.tab('tab')" title="Data Table">&#128911;</button>
    <button id="b-set" class="pv1 tab on bg-cl o5 mr3" onclick="Log.tab('set')" title="Guide">?</button>

    <span id="timer" class="rf f5 dn di-m di-l" title="Current Log Session Duration">00:00:00</span>
  </header>

  <div id="ovw" class="sect h9">
    <div class="c2 mb4">
      <h3 id="peakTimesTitle" class="mb4 f6 fwn" title="Peak Times">&#9650;</h3>

      <div id="phc" class="mb4 sh5 wf" title="Peak Hours"></div>
      <div id="pdc" class="mb4 sh5 wf" title="Peak Days"></div>

      <h3 id="forecastTitle" class="mb3 f6 fwn" title="Today's Forecast">&#9670;</h3>

      <div class="f6 mon r">
        <p class="mb1 c3 c3-m cc-l">
          <span class="o7" title="Sector Focus">SF</span>
          <span id="fsf">???</span>
        </p>
        <p class="mb1 c3 c3-m cc-l">
          <span class="o7" title="Project Focus">PF</span>
          <span id="fpf">???</span>
        </p>
        <p class="mb1 c3 c3-m cc-l">
          <span class="o7" title="Peak Time">PT</span>
          <span id="fpt">00:00</span>
        </p>
        <p class="mb1 c3 c3-m cc-l">
          <span class="o7" title="Session Duration">SD</span>
          <span id="fsd">0.00 h</span>
        </p>
      </div>
    </div>
    <div class="c8 ph4-l hf-l oya-l">
      <h3 id="overviewTitle" class="mb4 f6 fwn" title="Overview">&#128902;</h3>

      <div class="ph1">
        <div class="mb3 psr wf sh2 bl br">
          <div class="psa sh1 br o5" style="left:4.17%"></div>
          <div class="psa hf br o7" style="left:8.33%"></div>
          <div class="psa sh1 br o5" style="left:12.5%"></div>
          <div class="psa hf br o7" style="left:16.67%"></div>
          <div class="psa sh1 br o5" style="left:20.83%"></div>
          <div class="psa hf br o7" style="left:25%"></div>
          <div class="psa sh1 br o5" style="left:29.17%"></div>
          <div class="psa hf br o7" style="left:33.33%"></div>
          <div class="psa sh1 br o5" style="left:37.5%"></div>
          <div class="psa hf br o7" style="left:41.67%"></div>
          <div class="psa sh1 br o5" style="left:45.83%"></div>
          <div class="psa hf br o7" style="left:50%"></div>
          <div class="psa sh1 br o5" style="left:54.17%"></div>
          <div class="psa hf br o7" style="left:58.33%"></div>
          <div class="psa sh1 br o5" style="left:62.5%"></div>
          <div class="psa hf br o7" style="left:66.67%"></div>
          <div class="psa sh1 br o5" style="left:70.83%"></div>
          <div class="psa hf br o7" style="left:75%"></div>
          <div class="psa sh1 br o5" style="left:79.17%"></div>
          <div class="psa hf br o7" style="left:83.33%"></div>
          <div class="psa sh1 br o5" style="left:87.5%"></div>
          <div class="psa hf br o7" style="left:91.67%"></div>
          <div class="psa sh1 br o5" style="left:95.83%"></div>
        </div>

        <div id="dayChart" class="mb3 psr wf sh2" title="Today's Timeline"></div>
      </div>

      <div id="weekChart" class="vh3 mb4"></div>

      <ul class="lsn f6 lhc">
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LHT">0.00</span> h</p>
          <p class="f6">
            <span class="mr2" title="Logged Hours (Today)">LHt</span>
            <span id="lhtt">0.00</span>
          </p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="ASDT">0.00</span> h</p>
          <p class="f6">
            <span class="mr2" title="Average Session Duration (Today)">ASDt</span>
            <span id="asdtt">0.00</span>
          </p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LSN">0.00</span> h</p>
          <p class="f6">
            <span class="mr2" title="Shortest Log Session">LSn</span>
            <span id="lsnt">0.00</span>
          </p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LSX">0.00</span> h</p>
          <p class="f6">
            <span class="mr2" title="Longest Log Session">LSx</span>
            <span id="lsxt">0.00</span>
          </p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LPT">0.00</span>%</p>
          <p class="f6">
            <span class="mr2" title="Log Percentage (Today)">LPt</span>
            <span id="lptt">0.00</span>
          </p>
        </li>
      </ul>
    </div>
    <div class="c2 hf-l oya-l">
      <h3 id="sectorsTodayTitle" class="mb4 f6 fwn"></h3>
      <ul id="sectorBars" class="nodrag lsn mb4 h4-l oya-l"></ul>
      <ul id="projectBars" class="nodrag lsn h4-l oya-l"></ul>
    </div>
  </div>

  <div id="lis" class="dn sect h9 r">

    <div class="c2 hf-l">
      <h3 id="sectorsTitle" class="mb3 f6 fwn"></h3>
      <ul id="sectorsList" class="nodrag lsn h9-l oya-l pr3"></ul>
    </div>

    <div class="c8 ph4-l">
      <h3 id="statsTitle" class="mb4 f6 fwn"></h3>

      <div class="mb4 vh3 wf" id="peakTimesHistory" title="Peak Times: What your average day looks like"></div>

      <ul class="lsn f6 lhc">
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LHH">0.00</span> h</p>
          <p class="f6" title="Logged Hours (History)">LHh</p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LSNH">0.00</span> h</p>
          <p class="f6" title="Smallest Log Session (History)">LShn</p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"<span id="LSXH">0.00</span> h</p>
          <p class="f6" title="Longest Log Session (History)">LShx</p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="LPH">0.00</span>%</p>
          <p class="f6" title="Log Percentage (History)">LPh</p>
        </li>
        <li class="mb4 w5 w2-m w2-l lf">
          <p class="f3 fwb"><span id="ASD">0.00</span> h</p>
          <p class="f6" title="Average Session Duration (History)">ASD</p>
        </li>
      </ul>
    </div>

    <div class="c2 hf-l">
      <h3 id="projectsTitle" class="mb3 f6 fwn"></h3>
      <ul id="projectsList" class="nodrag lsn h9-l oya-l pr3"></ul>
    </div>
  </div>

  <div id="vis" class="nodrag dn sect h9 oya" title="Distribution of Time: Each row is a day and each bar is a log session."></div>

  <div id="tab" class="dn sect wf h9 oya">
    <table class="nodrag bn wf">
      <thead>
        <tr class="f6 al">
          <th id="tableDate" title="Date"></th>
          <th id="tableStart" title="Start"></th>
          <th id="tableEnd" title="End"></th>
          <th id="tableDuration" title="Duration"></th>
          <th id="tableSector" title="Sector"></th>
          <th id="tableProject" title="Project"></th>
          <th id="tableActivity" title="Activity"></th>
        </tr>
      </thead>
      <tbody id="logbook" class="f6"></tbody>
    </table>
  </div>

  <div id="set" class="dn sect wf r h9-l f6 lhc oya">
    <div class="nodrag mb5 mb0-l c6 pr4-l hf-l oya-l">
      <h2 class="mb3 f5">Guide</h2>

      <p class="mb4">The Log is designed for single-tasking. When you start a log, focus on your activity; when you feel like stopping, simply end the log.</p>

      <h3 class="mb3 f5">Stats</h3>
      <table class="mb4 bn">
        <tbody>
          <tr><td>LHt</td><td>Total logged hours for today</td></tr>
          <tr><td>ASDt</td><td>Average session duration for today</td></tr>
          <tr><td>LSn</td><td>Shortest log session for today</td></tr>
          <tr><td>LSx</td><td>Longest log session for today</td></tr>
          <tr><td>LPt</td><td>Log percentage; how much of the day was logged</td></tr>
          <tr><td>LHh</td><td>Total logged hours over all</td></tr>
          <tr><td>LShn</td><td>Shortest log session</td></tr>
          <tr><td>LShx</td><td>Longest log session</td></tr>
          <tr><td>LPt</td><td>Log percentage; how much of the time period was logged</td></tr>
          <tr><td>ASD</td><td>Average session duration</td></tr>
          <tr><td>SF</td><td>Forecasted sector focus</td></tr>
          <tr><td>PF</td><td>Forecasted project focus</td></tr>
          <tr><td>PT</td><td>Forecasted peak hour for today</td></tr>
          <tr><td>SD</td><td>Forecasted average session duration for today</td></tr>
        </tbody>
      </table>

      <h3 class="mb3 f5">Console</h3>
      <p class="mb4 m">Use the console to enter commands. The console is summoned when you start typing. Here are a list of available commands:</p>

      <p class="mb3 m">To start a log, you may do so in several ways:</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">start "Sector or Category" "Title" "A description"</p>
        <p class="mb2">start Sector, Title, Description</p>
        <p class="mb2">start Sector; Title; Description</p>
        <p>start Sector | Title | Description</p>
      </div>

      <p class="mb3 m">To end a log:</p>
      <div class="mb4 bl pl3 m">
        <p>end</p>
      </div>

      <p class="mb3 m">To change the interface's background colour, set a hexadecimal colour of your choice. HTML-friendly colour names are also accepted:</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">set background #aabbcc</p>
        <p>set background aquamarine</p>
      </div>

      <p class="mb3 m">To change the interface's text colour, set a hexadecimal colour of your choice. HTML-friendly colour names are also accepted:</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">set color #112233</p>
        <p>set color black</p>
      </div>

      <p class="mb3 m">To set your sectors' colour codes (for instance, if you would like entries under "Fishing" to appear green in charts):</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">set sector "Fishing" green</p>
        <p>set sector "Productive Activities" #c0ffee</p>
      </div>

      <p class="mb3 m">The clockscreen appears when you have an active log session and is enabled by default. To disable it:</p>
      <div class="mb4 bl pl3 m">
        <p>enable/disable clockscreen</p>
      </div>

      <p class="mb3 m">Perhaps you don't find my arbitrary choice of icons to be useful. You may enable/disable them:</p>
      <div class="mb4 bl pl3 m">
        <p>set icons true/false</p>
      </div>

      <p class="mb3 m">To change the number of log days displayed in the overview chart, the visualisation section, and the log table:</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">set view 30 // shows only the last 30 days</p>
        <p>set view 7 // shows only the last 7 days</p>
      </div>

      <p class="mb3 m">To change the calendar system used, choose between the Gregorian, MONOCAL, or Aequirys calendars. This does not affect your logs. It simply shows dates differently:</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">set calendar gregorian</p>
        <p class="mb2">set calendar monocal</p>
        <p>set calendar aequirys</p>
      </div>

      <p class="mb3 m">To change the time format, choose between 12-hours or 24-hours:</p>
      <div class="mb4 bl pl3 m">
        <p class="mb2">set time 12</p>
        <p>set time 24</p>
      </div>

      <p class="mb3 m">Your data is stored in JSON. It contains your configurations, sector colour codes, and your log entries. If you have an existing log file (JSON), you can import it:</p>
      <div class="mb4 bl pl3 m">
        <p>import /location/of/file.json</p>
      </div>

      <p class="mb3 m">To export your data:</p>
      <div class="mb5 bl pl3 m">
        <p>export</p>
      </div>

    </div>
    <div class="nodrag mb5 mb0-l c6 pl4-l hf-l oya-l">
      <h2 class="mb3 f5">Log v0.1.3</h2>
      <p class="mb4 m">Log is a log and time-tracking system. Its primary purpose is to provide insight to how one's time is spent &mdash; insight that may then be used to optimise personal productivity and better manage time.</p>

      <h3 class="mb3 f5">Contribution</h3>
      <p class="mb3 m">This project is open-source and its source code is available on GitHub under the MIT License. If you found any bugs or would like to contribute to the development of this project, be my guest:</p>
      <p class="bl pl3 mb4 m">github.com/joshavanier/log</p>

      <p class="mb3 m">If you have any thoughts, comments, suggestions, questions, or if you simply want to say hello:</p>
      <p class="bl pl3 mb4 m">Twitter: @joshavanier</p>

      <p class="mb3">Thank you for taking the time to try this out.</p>
      <p class="mb4">&mdash; Josh Avanier</p>
    </div>
  </div>

  <form id="cmd" class="dn psf b0 l0 wf f6 bst z9" action="#" onsubmit="return false;" autocomplete="off" spellcheck="false">
    <input type="text" class="wf bg-1 blanc on bn p4" id="console" autofocus="autofocus" placeholder="> Log.console" />
  </form>

  <script src="data/user.js"></script>
  <script src="data/log.js"></script>

  <script src="js/log.js"></script>
  <script src="js/options.js"></script>
  <script src="js/console.js"></script>
  <script src="js/vis.js"></script>
  <script src="js/time.js"></script>
  <script src="js/data.js"></script>

  <script>
    const {dialog,app} = require('electron').remote
    const fs = require('fs')

    Log.init()
  </script>

</body>
</html>
